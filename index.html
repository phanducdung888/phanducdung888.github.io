<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PeaceFlow - Ứng dụng quản lý lo âu và trầm cảm</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
  <style>
    .fade {
      transition: opacity 0.3s ease-in-out;
    }
    section.hidden.fade {
      opacity: 0;
    }
    section.fade {
      opacity: 1;
    }
  </style>
</head>
<body class="bg-[#c6e6e8] text-gray-800">
  <header>
    <img src="images/peaceflow-logo-01.png" alt="PeaceFlow Logo" class="logo">
  </header>

  <main>
    <!-- Mood Tracker Tab -->
    <section id="mood" class="fade">
      <h2>Theo dõi tâm trạng</h2>
      <p>Xem lại mức độ stress và lo âu hàng ngày.</p>
      <canvas id="moodChart"></canvas>
      <form class="mt-4">
        <label>Stress hôm nay:</label>
        <input type="range" min="0" max="10" value="5">
        <label>Lo âu hôm nay:</label>
        <input type="range" min="0" max="10" value="4">
        <button type="submit">Lưu</button>
      </form>
      <button onclick="openAssessment()" class="mt-4">Bắt đầu đánh giá sức khỏe tâm thần</button>
      <ul class="mt-4">
        <li class="expert-item">
          <span>15/5</span>
          <span>Stress: 6 - Lo âu: 5</span>
          <button onclick="alert('Xem chi tiết ngày 15/5')">Chi tiết</button>
        </li>
      </ul>
    </section>

    <!-- AI Chat Tab -->
    <section id="chat" class="hidden fade">
      <h2>Trò chuyện với AI</h2>
      <div id="chatBox"></div>
      <div class="chat-input">
        <input type="text" id="userInput" placeholder="Nhập tin nhắn...">
        <button onclick="sendMessage()">Gửi</button>
      </div>
    </section>

    <!-- Meditation Tab -->
    <section id="meditation" class="hidden fade">
      <h2>Thiền định</h2>
      <p>Hướng dẫn thiền cá nhân hóa giúp bạn thư giãn.</p>
      
      <div class="meditation-card">
        <h3>Thiền cơ bản - 5 phút</h3>
        <p>Hãy tìm một nơi yên tĩnh và bắt đầu bài thiền 5 phút với âm thanh nhẹ nhàng.</p>
        <audio controls>
          <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
          Trình duyệt không hỗ trợ âm thanh.
        </audio>
        <p class="text-sm text-gray-500 italic">Lưu ý: Bạn có thể đeo tai nghe để đạt hiệu quả thư giãn tốt hơn.</p>
      </div>

      <div class="meditation-card">
        <h3>Thiền hơi thở - 10 phút</h3>
        <p>Bài tập tập trung vào hơi thở, giúp bạn thả lỏng cơ thể và tâm trí.</p>
        <audio controls>
          <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
          Trình duyệt không hỗ trợ âm thanh.
        </audio>
        <p class="text-sm text-gray-500 italic">Hướng dẫn: Hít vào 4 giây, giữ 4 giây, thở ra 4 giây.</p>
      </div>

      <div class="meditation-card">
        <h3>Thiền chánh niệm - 15 phút</h3>
        <p>Thực hành chánh niệm để giảm stress và lo âu.</p>
        <audio controls>
          <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" type="audio/mpeg">
          Trình duyệt không hỗ trợ âm thanh.
        </audio>
        <p class="text-sm text-gray-500 italic">Tập trung vào cảm giác hiện tại, không phán xét.</p>
      </div>

      <div class="meditation-card">
        <h3>Thiền yêu thương - 10 phút</h3>
        <p>Phát triển lòng từ bi và yêu thương bản thân.</p>
        <audio controls>
          <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3" type="audio/mpeg">
          Trình duyệt không hỗ trợ âm thanh.
        </audio>
        <p class="text-sm text-gray-500 italic">Gửi những lời chúc tốt đẹp đến bản thân và người khác.</p>
      </div>
    </section>

    <!-- Expert Tab -->
    <section id="expert" class="hidden fade">
      <h2>Kết nối chuyên gia</h2>
      <p>Đặt lịch với chuyên gia trị liệu đáng tin cậy.</p>
      <ul class="expert-list">
        <li class="expert-item">
          <div class="expert-info">
            <p class="expert-name">TS. Lan Nguyễn</p>
            <p class="expert-specialty">Chuyên gia trị liệu tâm lý – 15 năm kinh nghiệm</p>
          </div>
          <button onclick="openAppointmentModal('TS. Lan Nguyễn')">Đặt lịch</button>
        </li>
        <li class="expert-item">
          <div class="expert-info">
            <p class="expert-name">ThS. An Trần</p>
            <p class="expert-specialty">Chuyên gia hỗ trợ trẻ em & gia đình</p>
          </div>
          <button onclick="openAppointmentModal('ThS. An Trần')">Đặt lịch</button>
        </li>
      </ul>
    </section>

    <!-- Assessment Modal -->
    <div id="assessmentModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Đánh giá sức khỏe tâm thần</h3>
          <p>Hãy trả lời các câu hỏi sau để chúng tôi có thể hỗ trợ bạn tốt hơn</p>
        </div>
        <form onsubmit="submitAssessment(event)">
          <div class="form-group">
            <label>1. Bạn có cảm thấy buồn hoặc chán nản gần đây không?</label>
            <div class="assessment-options">
              <label class="assessment-option">
                <input type="radio" name="q1" value="no" required>
                <span>Không</span>
              </label>
              <label class="assessment-option">
                <input type="radio" name="q1" value="sometimes">
                <span>Thỉnh thoảng</span>
              </label>
              <label class="assessment-option">
                <input type="radio" name="q1" value="often">
                <span>Thường xuyên</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label>2. Bạn có gặp khó khăn trong giấc ngủ không?</label>
            <div class="assessment-options">
              <label class="assessment-option">
                <input type="radio" name="q2" value="no" required>
                <span>Không</span>
              </label>
              <label class="assessment-option">
                <input type="radio" name="q2" value="sometimes">
                <span>Thỉnh thoảng</span>
              </label>
              <label class="assessment-option">
                <input type="radio" name="q2" value="often">
                <span>Thường xuyên</span>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label>3. Bạn có thấy lo âu hoặc bồn chồn không?</label>
            <div class="assessment-options">
              <label class="assessment-option">
                <input type="radio" name="q3" value="no" required>
                <span>Không</span>
              </label>
              <label class="assessment-option">
                <input type="radio" name="q3" value="sometimes">
                <span>Thỉnh thoảng</span>
              </label>
              <label class="assessment-option">
                <input type="radio" name="q3" value="often">
                <span>Thường xuyên</span>
              </label>
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" onclick="closeAssessment()">Hủy</button>
            <button type="submit">Gửi đánh giá</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Appointment Modal -->
    <div id="appointmentModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Đặt lịch hẹn</h3>
          <p id="expertName" class="text-subtle"></p>
        </div>
        <form onsubmit="submitAppointment(event)">
          <div class="form-group">
            <label>Chọn ngày:</label>
            <input type="date" id="appointmentDate" required min="">
          </div>
          
          <div class="form-group">
            <label>Chọn giờ:</label>
            <div class="appointment-time-slots">
              <div class="time-slot" onclick="selectTimeSlot(this, '09:00')">09:00</div>
              <div class="time-slot" onclick="selectTimeSlot(this, '10:00')">10:00</div>
              <div class="time-slot" onclick="selectTimeSlot(this, '11:00')">11:00</div>
              <div class="time-slot" onclick="selectTimeSlot(this, '14:00')">14:00</div>
              <div class="time-slot" onclick="selectTimeSlot(this, '15:00')">15:00</div>
              <div class="time-slot" onclick="selectTimeSlot(this, '16:00')">16:00</div>
            </div>
            <input type="hidden" id="appointmentTime" required>
          </div>

          <div class="form-group">
            <label>Ghi chú (nếu có):</label>
            <textarea id="appointmentNote" rows="3" placeholder="Nhập ghi chú của bạn..."></textarea>
          </div>

          <div class="modal-footer">
            <button type="button" onclick="closeAppointmentModal()">Hủy</button>
            <button type="submit">Xác nhận đặt lịch</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Profile Tab -->
    <section id="profile" class="hidden fade">
      <h2>Hồ sơ cá nhân</h2>
      <div class="profile-card">
        <p><strong>Họ tên:</strong> Nguyễn Văn A</p>
        <p><strong>Email:</strong> example@email.com</p>
        <p><strong>Ngôn ngữ:</strong> Tiếng Việt</p>
      </div>
    </section>
  </main>

  <!-- Bottom Navigation -->
  <nav id="tabBar">
    <button onclick="showScreen('mood', this)" class="tab-btn active">
      <i class="fas fa-heart"></i>
      <span>Tâm trạng</span>
    </button>
    <button onclick="showScreen('chat', this)" class="tab-btn">
      <i class="fas fa-comments"></i>
      <span>AI Chat</span>
    </button>
    <button onclick="showScreen('meditation', this)" class="tab-btn">
      <i class="fas fa-spa"></i>
      <span>Thiền</span>
    </button>
    <button onclick="showScreen('expert', this)" class="tab-btn">
      <i class="fas fa-user-md"></i>
      <span>Chuyên gia</span>
    </button>
    <button onclick="showScreen('profile', this)" class="tab-btn">
      <i class="fas fa-user"></i>
      <span>Hồ sơ</span>
    </button>
  </nav>

  <script src="js/main.js"></script>
</body>
</html>
